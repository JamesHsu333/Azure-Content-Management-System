(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c5b89"],{"3fff":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Name or Location",size:"mini"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){e.createFormVisible=!0}}},[e._v("Create Resource Group")]),r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:0===e.selectedResourceGroup.length},on:{click:function(t){return e.deleteConfirm(e.deleteSelectedResourceGroup,"Delete Selected Resource Group")}}},[e._v("Delete Selected Resource Group")])],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.filterResourceGroupInfo,"element-loading-text":"Loading Resource Group Information",fit:"","default-sort":{prop:"name",order:"ascending"}},on:{"selection-change":e.selectResourceGroup}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),r("el-table-column",{attrs:{width:"300",label:"Resource Group Name",prop:"name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-menu"}),e._v(e._s(t.row.name))]}}])}),r("el-table-column",{attrs:{label:"Account Name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.userPrincipalName))])]}}])}),r("el-table-column",{attrs:{label:"Location",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v(e._s(t.row.location))])]}}])}),r("el-table-column",{attrs:{label:"Operation",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger",loading:e.buttonLoading[t.$index]},on:{click:function(r){return e.listResources(t.row.name,t.$index)}}},[e._v("Delete Resource")]),r("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger",loading:e.buttonLoading[t.$index]},on:{click:function(r){return e.deleteAllResources(t.row.name,t.$index)}}},[e._v("Delete All")])]}}])})],1),r("form-create-resource-group",{attrs:{isVisible:e.createFormVisible,resourceGroup:e.list},on:{newResourceGroupData:e.newResourceGroupData,close:e.closeCreateResourceGroup}}),r("dialog-delete-resource",{attrs:{isVisible:e.deleteFormVisible,resource:e.resource},on:{close:e.closeDeleteResource}})],1)},s=[],n=(r("4de4"),r("caad6"),r("d81d"),r("b0c0"),r("d3b7"),r("2532"),r("3ca3"),r("841c"),r("ddb0"),r("96cf"),r("25b2")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"Create Resource Group",visible:e.isVisible,"before-close":e.closeDialog},on:{"update:visible":function(t){e.isVisible=t}}},[r("el-form",{ref:"createResourceGroupForm",staticStyle:{width:"375px","margin-left":"70px"},attrs:{model:e.createResourceGroupForm,rules:e.rules,"label-position":"right","label-width":"175px"}},[r("el-form-item",{attrs:{label:"Resource Group Name",prop:"name"}},[r("el-input",{attrs:{placeholder:e.createResourceGroupForm.isMultiple?"Ex. user":"Ex. user1","prefix-icon":"el-icon-user",size:"medium",clearable:""},model:{value:e.createResourceGroupForm.name,callback:function(t){e.$set(e.createResourceGroupForm,"name",t)},expression:"createResourceGroupForm.name"}})],1),r("el-form-item",{attrs:{label:"Region",prop:"region"}},[r("el-select",{attrs:{filterable:"",placeholder:"Choose Region"},model:{value:e.createResourceGroupForm.region,callback:function(t){e.$set(e.createResourceGroupForm,"region",t)},expression:"createResourceGroupForm.region"}},e._l(e.regions,(function(e){return r("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"Multiple",prop:"isMultiple"}},[r("el-switch",{staticStyle:{left:"0"},model:{value:e.createResourceGroupForm.isMultiple,callback:function(t){e.$set(e.createResourceGroupForm,"isMultiple",t)},expression:"createResourceGroupForm.isMultiple"}})],1),e.createResourceGroupForm.isMultiple?r("el-form-item",{attrs:{label:"User Numbers",prop:"range"}},[r("el-slider",{attrs:{range:"","show-stops":"",max:50},model:{value:e.createResourceGroupForm.range,callback:function(t){e.$set(e.createResourceGroupForm,"range",t)},expression:"createResourceGroupForm.range"}})],1):e._e()],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("Cancel")]),r("el-button",{attrs:{type:"primary",loading:e.isCreateNow},on:{click:e.confirmCreateResourceGroupForm}},[e._v("Confirm")])],1)],1)},a=[],l=(r("25f0"),{name:"FormCreateResourceGroup",props:{isVisible:{type:Boolean,required:!0},resourceGroup:{type:Array,required:!0}},data:function(){var e=this,t=function(t,r,o){var s=0!==e.resourceGroup.filter((function(e){return e.name.toLowerCase()===r.toLowerCase()})).length;s?o(new Error("Resource Group Already Exist")):o()};return{isFormValid:!1,createResourceGroupForm:{range:[1,15],isMultiple:!1},isCreateNow:!1,rules:{name:[{required:!0,message:"Type Resource Group Name",trigger:"blur"},{validator:t,trigger:"blur"},{min:4,max:16,message:"Resource Group Name must have length between 5 to 16",trigger:"blur"}],region:{required:!0,message:"Choose Region",trigger:"blur"}},regions:[{value:"eastasia",label:"East Asia"},{value:"southeastasia",label:"Southeast Asia"},{value:"eastus",label:"East US"},{value:"eastus2",label:"East US 2"},{value:"northcentralus",label:"North Central US"},{value:"centralus",label:"Central US"},{value:"southcentralus",label:"South Central US"},{value:"westus",label:"West US"},{value:"westus2",label:"West US 2"},{value:"westcentralus",label:"West Central US"}]}},methods:{createResourceGroup:function(e){var t,r,o;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return t=e.name,r=e.region,s.next=3,regeneratorRuntime.awrap(Object(n["a"])({resourceGroupName:t,region:r}));case 3:o=s.sent,this.$message({type:"success",message:"Successfully Create Resource Group "+t}),this.$emit("newResourceGroupData",o.data);case 6:case"end":return s.stop()}}),null,this)},createMultiResourceGroup:function(e){for(var t=this,r=e.name,o=e.region,s=e.range,n=[],i=s[0];i<=s[1];i++)n[i-s[0]]=r+i.toString();return Promise.all(n.map((function(e){return new Promise((function(r){t.createResourceGroup({name:e,region:o}).then((function(){return r()}))}))})))},confirmCreateResourceGroupForm:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.validateForm("createResourceGroupForm"),!this.isFormValid){e.next=25;break}if(this.isCreateNow=!0,!0!==this.createResourceGroupForm.isMultiple){e.next=14;break}return e.prev=4,e.next=7,regeneratorRuntime.awrap(this.createMultiResourceGroup(this.createResourceGroupForm));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),this.isCreateNow=!1;case 12:e.next=23;break;case 14:if(!1!==this.createResourceGroupForm.isMultiple){e.next=23;break}return e.prev=15,e.next=18,regeneratorRuntime.awrap(this.createResourceGroup(this.createResourceGroupForm));case 18:e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](15),this.isCreateNow=!1;case 23:this.closeDialog(),this.isCreateNow=!1;case 25:case"end":return e.stop()}}),null,this,[[4,9],[15,20]])},validateForm:function(e){var t=this;this.$refs[e].validate((function(e){t.isFormValid=!!e}))},closeDialog:function(){this.$emit("close",!1)}}}),c=l,u=r("2877"),d=Object(u["a"])(c,i,a,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"Resources",visible:e.isVisible,width:"75%","before-close":e.closeDialog},on:{"update:visible":function(t){e.isVisible=t}}},[r("div",{staticClass:"filter-container"},[r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Name or Location",size:"mini"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"ResourceList",attrs:{stripe:"",fit:"","highlight-current-row":"",data:e.filterResourceInfo,"default-sort":{prop:"name",order:"descending"}},on:{"selection-change":e.selectResource}},[r("el-table-column",{attrs:{type:"selection",width:"50"}}),r("el-table-column",{attrs:{width:"200",label:"Resource Name",prop:"name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-menu"}),e._v(e._s(t.row.name))]}}])}),r("el-table-column",{attrs:{label:"Type",align:"center",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.type))])]}}])}),r("el-table-column",{attrs:{label:"Location",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:t.row.location}},[e._v(e._s(t.row.location))])]}}])}),r("el-table-column",{attrs:{label:"Operation",width:"110"}},[[r("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("Delete")])]],2)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{key:0===e.selectedResourceID.length,attrs:{type:"danger",loading:e.listLoading,disabled:0===e.selectedResourceID.length},on:{click:function(t){return e.deleteSelectedResources()}}},[e._v("Delete Selected Resources")])],1)],1)},f=[],h={props:{isVisible:{type:Boolean,required:!0},resource:{type:Array,required:!0}},data:function(){return{listLoading:!1,search:"",selectedResourceID:[]}},computed:{filterResourceInfo:function(){var e=this;return this.resource.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())||t.location.toLowerCase().includes(e.search.toLowerCase())}))}},methods:{deleteSelectedResources:function(){var e=this;this.listLoading=!0,Promise.all(this.selectedResourceID.map((function(e){return new Promise((function(t,r){Object(n["c"])(e.id).then((function(e){t(e)})).catch((function(e){r(e)}))}))}))).then((function(t){console.log(t),e.resource=e.resource.filter((function(t){return!e.selectedResourceID.includes(t)})),e.selectedResourceID=[],e.$message({message:"Successful Delete Resources",type:"success"}),e.listLoading=!1}),(function(){e.listLoading=!1}))},selectResource:function(e){this.selectedResourceID=e,console.log(this.resource.type)},closeDialog:function(){this.$emit("close",!1)}}},g=h,b=Object(u["a"])(g,m,f,!1,null,null,null),R=b.exports,w={components:{FormCreateResourceGroup:p,DialogDeleteResource:R},data:function(){return{list:[{}],listLoading:!1,resource:[],selectedResourceGroup:[],buttonLoading:[],createFormVisible:!1,deleteFormVisible:!1,search:""}},computed:{filterResourceGroupInfo:function(){var e=this;return this.list.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())||t.location.toLowerCase().includes(e.search.toLowerCase())}))}},created:function(){this.getResourceGroup()},methods:{getResourceGroup:function(){var e,t;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return this.listLoading=!0,r.next=3,regeneratorRuntime.awrap(Object(n["f"])());case 3:for(e=r.sent,this.list=e.data.value,t=0;t<this.list.length;t+=1)this.buttonLoading[t]=!1;this.listLoading=!1;case 7:case"end":return r.stop()}}),null,this)},listResources:function(e,t){var r;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return this.$set(this.buttonLoading,t,!0),o.next=3,regeneratorRuntime.awrap(Object(n["e"])(e));case 3:r=o.sent,this.resource=r.data.value,this.$set(this.buttonLoading,t,!1),this.deleteFormVisible=!0;case 7:case"end":return o.stop()}}),null,this)},deleteSelectedResourceGroup:function(){var e=this;this.listLoading=!0,Promise.all(this.selectedResourceGroup.map((function(t){return new Promise((function(r){Object(n["d"])(t.name).then((function(){e.$message({type:"success",message:"Successfully Delete Resource Group: "+t.name}),r()}))}))}))).then((function(){e.list=e.list.filter((function(t){return!e.selectedResourceGroup.includes(t)})),e.listLoading=!1})).catch((function(){e.listLoading=!1}))},deleteAllResources:function(e,t){var r=this;this.$confirm("Do you want to delete all resources?","Delete All Resources",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((function(){r.$set(r.buttonLoading,t,!0),Object(n["e"])(e).then((function(e){console.log(e.data),Promise.all(e.data.value.map((function(e){return new Promise((function(t,r){Object(n["c"])(e.id).then((function(e){t(e)})).catch((function(e){r(e)}))}))}))).then((function(){r.$set(r.buttonLoading,t,!1),r.$message({message:"Successfully Delete Resources",type:"success"})}),(function(){r.$set(r.buttonLoading,t,!1)}))}))})).catch((function(){r.$message({type:"info",message:"Has Canceled Deletion"})}))},deleteConfirm:function(e,t){var r=this;this.$confirm("Do you want to "+t,t,{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((function(){e()})).catch((function(){r.$message({type:"info",message:"Has Canceled"})}))},selectResourceGroup:function(e){this.selectedResourceGroup=e},newResourceGroupData:function(e){this.$set(this.list,this.list.length,e)},closeCreateResourceGroup:function(e){this.createFormVisible=e},closeDeleteResource:function(e){this.deleteFormVisible=e}}},v=w,G=Object(u["a"])(v,o,s,!1,null,null,null);t["default"]=G.exports}}]);
//# sourceMappingURL=chunk-2d0c5b89.9fbf636f.js.map